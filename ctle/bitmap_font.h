// ctle Copyright (c) 2023 Ulrik Lindahl
// Licensed under the MIT license https://github.com/Cooolrik/ctle/blob/main/LICENSE

#pragma once

namespace ctle
	{
	const uint16_t *get_fixed_9x16_font_glyph( uint8_t ch );

	// a ultralight-weight font render. Codepage 437 (ascii+), fixed width font only
	// _Ty is the pixel type of the output image to render to

	// the render flags 
	enum class bitmap_font_flags : int
		{
		center_vertically = 0x1,	// output points at the center pixel vertically
		center_horizontally = 0x2,	// output points at the center pixel horizontally
		render_off_pixels = 0x4,	// render 'off' pixels as well
		flip_y = 0x8,				// flip the letters vertically, as y points up 
		};

	// render to the output pixel buffer. 
	// line_stride is the number of pixels to the next row
	// txt is the character string to render
	// x & y is the position within the output pixel buffer, counted with output as origin
	template<class _Ty> void render_bitmap_font( _Ty *output, uint32_t line_stride, uint32_t x, uint32_t y, const char *txt, _Ty pixel_on, _Ty pixel_off = {}, bitmap_font_flags flags = {} )
		{
		output += x + (y*line_stride); // move output pointer to the x,y coord
		render_bitmap_font( output, line_stride, txt, strlen(txt), pixel_on, pixel_off, flags );
		}

	// render to the output pixel buffer. 
	// line_stride is the number of pixels to the next row
	// txt is the character string to render
	// txt_length is the number of characters in txt to render
	template<class _Ty> void render_bitmap_font( _Ty *output, uint32_t _line_stride, const char *txt, size_t txt_length, _Ty pixel_on, _Ty pixel_off = {}, bitmap_font_flags flags = {} )
		{
		const bool center_vertically = ((int)flags & (int)bitmap_font_flags::center_vertically); 
		const bool center_horizontally = ((int)flags & (int)bitmap_font_flags::center_horizontally); 
		const bool render_off_pixels = ((int)flags & (int)bitmap_font_flags::render_off_pixels); 
		const bool flip_y = ((int)flags & (int)bitmap_font_flags::flip_y); 
		int line_stride = (int)_line_stride;

		// if center vertically, move up to center of row
		if( center_vertically )
			{
			output -= (line_stride * 8);
			}

		// if center horizontally, move back half number of chars
		if( center_horizontally )
			{
			output -= (txt_length * 9) / 2;
			}

		// if flip_y, flip the order of how lines are rendered
		if( flip_y )
			{
			output += (line_stride*16); 
			line_stride = -line_stride;
			}

		// render each glyph
		const char *txt_end = txt + txt_length;
		while( txt < txt_end )
			{
			_Ty *line = output;
					
			const uint16_t *glyph = get_fixed_9x16_font_glyph( *((uint8_t*)txt) );
					
			for( size_t y=0; y<16; ++y )
				{
				uint16_t pix_row = glyph[y];
						
				for( size_t x=0; x<9; ++x )
					{
					if( pix_row & 0x1 )
						{
						line[x] = pixel_on;
						}
					else if( render_off_pixels )
						{
						line[x] = pixel_off;
						}
					pix_row >>= 1;
					}
							
				line += line_stride;
				}	
						
			output += 9;
			++txt;
			}
		}

#ifdef CTLE_IMPLEMENTATION
	static const uint16_t _fixed_9x16_font_bits[4096] = 
		{
		0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,
		0x0,0x0,0x7e,0x81,0xa5,0x81,0x81,0xbd,0x99,0x81,0x81,0x7e,0x0,0x0,0x0,0x0,
		0x0,0x0,0x7e,0xff,0xdb,0xff,0xff,0xc3,0xe7,0xff,0xff,0x7e,0x0,0x0,0x0,0x0,
		0x0,0x0,0x0,0x0,0x36,0x7f,0x7f,0x7f,0x7f,0x3e,0x1c,0x8,0x0,0x0,0x0,0x0,
		0x0,0x0,0x0,0x0,0x8,0x1c,0x3e,0x7f,0x3e,0x1c,0x8,0x0,0x0,0x0,0x0,0x0,
		0x0,0x0,0x0,0x18,0x3c,0x3c,0xe7,0xe7,0xe7,0x18,0x18,0x3c,0x0,0x0,0x0,0x0,
		0x0,0x0,0x0,0x18,0x3c,0x7e,0xff,0xff,0x7e,0x18,0x18,0x3c,0x0,0x0,0x0,0x0,
		0x0,0x0,0x0,0x0,0x0,0x0,0x18,0x3c,0x3c,0x18,0x0,0x0,0x0,0x0,0x0,0x0,
		0xff,0xff,0xff,0xff,0xff,0xff,0xe7,0xc3,0xc3,0xe7,0xff,0xff,0xff,0xff,0xff,0xff,
		0x0,0x0,0x0,0x0,0x0,0x3c,0x66,0x42,0x42,0x66,0x3c,0x0,0x0,0x0,0x0,0x0,
		0xff,0xff,0xff,0xff,0xff,0xc3,0x99,0xbd,0xbd,0x99,0xc3,0xff,0xff,0xff,0xff,0xff,
		0x0,0x0,0x78,0x70,0x58,0x4c,0x1e,0x33,0x33,0x33,0x33,0x1e,0x0,0x0,0x0,0x0,
		0x0,0x0,0x3c,0x66,0x66,0x66,0x66,0x3c,0x18,0x7e,0x18,0x18,0x0,0x0,0x0,0x0,
		0x0,0x0,0xfc,0xcc,0xfc,0xc,0xc,0xc,0xc,0xe,0xf,0x7,0x0,0x0,0x0,0x0,
		0x0,0x0,0xfe,0xc6,0xfe,0xc6,0xc6,0xc6,0xc6,0xe6,0xe7,0x67,0x3,0x0,0x0,0x0,
		0x0,0x0,0x0,0x18,0x18,0xdb,0x3c,0xe7,0x3c,0xdb,0x18,0x18,0x0,0x0,0x0,0x0,
		0x0,0x1,0x3,0x7,0xf,0x1f,0x7f,0x1f,0xf,0x7,0x3,0x1,0x0,0x0,0x0,0x0,
		0x0,0x40,0x60,0x70,0x78,0x7c,0x7f,0x7c,0x78,0x70,0x60,0x40,0x0,0x0,0x0,0x0,
		0x0,0x0,0x18,0x3c,0x7e,0x18,0x18,0x18,0x7e,0x3c,0x18,0x0,0x0,0x0,0x0,0x0,
		0x0,0x0,0x66,0x66,0x66,0x66,0x66,0x66,0x66,0x0,0x66,0x66,0x0,0x0,0x0,0x0,
		0x0,0x0,0xfe,0xdb,0xdb,0xdb,0xde,0xd8,0xd8,0xd8,0xd8,0xd8,0x0,0x0,0x0,0x0,
		0x0,0x3e,0x63,0x6,0x1c,0x36,0x63,0x63,0x36,0x1c,0x30,0x63,0x3e,0x0,0x0,0x0,
		0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x7f,0x7f,0x7f,0x7f,0x0,0x0,0x0,0x0,
		0x0,0x0,0x18,0x3c,0x7e,0x18,0x18,0x18,0x7e,0x3c,0x18,0x7e,0x0,0x0,0x0,0x0,
		0x0,0x0,0x18,0x3c,0x7e,0x18,0x18,0x18,0x18,0x18,0x18,0x18,0x0,0x0,0x0,0x0,
		0x0,0x0,0x18,0x18,0x18,0x18,0x18,0x18,0x18,0x7e,0x3c,0x18,0x0,0x0,0x0,0x0,
		0x0,0x0,0x0,0x0,0x0,0x18,0x30,0x7f,0x30,0x18,0x0,0x0,0x0,0x0,0x0,0x0,
		0x0,0x0,0x0,0x0,0x0,0xc,0x6,0x7f,0x6,0xc,0x0,0x0,0x0,0x0,0x0,0x0,
		0x0,0x0,0x0,0x0,0x0,0x0,0x3,0x3,0x3,0x7f,0x0,0x0,0x0,0x0,0x0,0x0,
		0x0,0x0,0x0,0x0,0x0,0x24,0x66,0xff,0x66,0x24,0x0,0x0,0x0,0x0,0x0,0x0,
		0x0,0x0,0x0,0x0,0x8,0x1c,0x1c,0x3e,0x3e,0x7f,0x7f,0x0,0x0,0x0,0x0,0x0,
		0x0,0x0,0x0,0x0,0x7f,0x7f,0x3e,0x3e,0x1c,0x1c,0x8,0x0,0x0,0x0,0x0,0x0,
		0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,
		0x0,0x0,0x18,0x3c,0x3c,0x3c,0x18,0x18,0x18,0x0,0x18,0x18,0x0,0x0,0x0,0x0,
		0x0,0x66,0x66,0x66,0x24,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,
		0x0,0x0,0x0,0x36,0x36,0x7f,0x36,0x36,0x36,0x7f,0x36,0x36,0x0,0x0,0x0,0x0,
		0x18,0x18,0x3e,0x63,0x43,0x3,0x3e,0x60,0x60,0x61,0x63,0x3e,0x18,0x18,0x0,0x0,
		0x0,0x0,0x0,0x0,0x43,0x63,0x30,0x18,0xc,0x6,0x63,0x61,0x0,0x0,0x0,0x0,
		0x0,0x0,0x1c,0x36,0x36,0x1c,0x6e,0x3b,0x33,0x33,0x33,0x6e,0x0,0x0,0x0,0x0,
		0x0,0xc,0xc,0xc,0x6,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,
		0x0,0x0,0x30,0x18,0xc,0xc,0xc,0xc,0xc,0xc,0x18,0x30,0x0,0x0,0x0,0x0,
		0x0,0x0,0xc,0x18,0x30,0x30,0x30,0x30,0x30,0x30,0x18,0xc,0x0,0x0,0x0,0x0,
		0x0,0x0,0x0,0x0,0x0,0x66,0x3c,0xff,0x3c,0x66,0x0,0x0,0x0,0x0,0x0,0x0,
		0x0,0x0,0x0,0x0,0x0,0x18,0x18,0x7e,0x18,0x18,0x0,0x0,0x0,0x0,0x0,0x0,
		0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x18,0x18,0x18,0xc,0x0,0x0,0x0,
		0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x7f,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,
		0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x18,0x18,0x0,0x0,0x0,0x0,
		0x0,0x0,0x0,0x0,0x40,0x60,0x30,0x18,0xc,0x6,0x3,0x1,0x0,0x0,0x0,0x0,
		0x0,0x0,0x3c,0x66,0xc3,0xc3,0xdb,0xdb,0xc3,0xc3,0x66,0x3c,0x0,0x0,0x0,0x0,
		0x0,0x0,0x18,0x1c,0x1e,0x18,0x18,0x18,0x18,0x18,0x18,0x7e,0x0,0x0,0x0,0x0,
		0x0,0x0,0x3e,0x63,0x60,0x30,0x18,0xc,0x6,0x3,0x63,0x7f,0x0,0x0,0x0,0x0,
		0x0,0x0,0x3e,0x63,0x60,0x60,0x3c,0x60,0x60,0x60,0x63,0x3e,0x0,0x0,0x0,0x0,
		0x0,0x0,0x30,0x38,0x3c,0x36,0x33,0x7f,0x30,0x30,0x30,0x78,0x0,0x0,0x0,0x0,
		0x0,0x0,0x7f,0x3,0x3,0x3,0x3f,0x60,0x60,0x60,0x63,0x3e,0x0,0x0,0x0,0x0,
		0x0,0x0,0x1c,0x6,0x3,0x3,0x3f,0x63,0x63,0x63,0x63,0x3e,0x0,0x0,0x0,0x0,
		0x0,0x0,0x7f,0x63,0x60,0x60,0x30,0x18,0xc,0xc,0xc,0xc,0x0,0x0,0x0,0x0,
		0x0,0x0,0x3e,0x63,0x63,0x63,0x3e,0x63,0x63,0x63,0x63,0x3e,0x0,0x0,0x0,0x0,
		0x0,0x0,0x3e,0x63,0x63,0x63,0x7e,0x60,0x60,0x60,0x30,0x1e,0x0,0x0,0x0,0x0,
		0x0,0x0,0x0,0x0,0x18,0x18,0x0,0x0,0x0,0x18,0x18,0x0,0x0,0x0,0x0,0x0,
		0x0,0x0,0x0,0x0,0x18,0x18,0x0,0x0,0x0,0x18,0x18,0xc,0x0,0x0,0x0,0x0,
		0x0,0x0,0x0,0x60,0x30,0x18,0xc,0x6,0xc,0x18,0x30,0x60,0x0,0x0,0x0,0x0,
		0x0,0x0,0x0,0x0,0x0,0x7e,0x0,0x0,0x7e,0x0,0x0,0x0,0x0,0x0,0x0,0x0,
		0x0,0x0,0x0,0x6,0xc,0x18,0x30,0x60,0x30,0x18,0xc,0x6,0x0,0x0,0x0,0x0,
		0x0,0x0,0x3e,0x63,0x63,0x30,0x18,0x18,0x18,0x0,0x18,0x18,0x0,0x0,0x0,0x0,
		0x0,0x0,0x0,0x3e,0x63,0x63,0x7b,0x7b,0x7b,0x3b,0x3,0x3e,0x0,0x0,0x0,0x0,
		0x0,0x0,0x8,0x1c,0x36,0x63,0x63,0x7f,0x63,0x63,0x63,0x63,0x0,0x0,0x0,0x0,
		0x0,0x0,0x3f,0x66,0x66,0x66,0x3e,0x66,0x66,0x66,0x66,0x3f,0x0,0x0,0x0,0x0,
		0x0,0x0,0x3c,0x66,0x43,0x3,0x3,0x3,0x3,0x43,0x66,0x3c,0x0,0x0,0x0,0x0,
		0x0,0x0,0x1f,0x36,0x66,0x66,0x66,0x66,0x66,0x66,0x36,0x1f,0x0,0x0,0x0,0x0,
		0x0,0x0,0x7f,0x66,0x46,0x16,0x1e,0x16,0x6,0x46,0x66,0x7f,0x0,0x0,0x0,0x0,
		0x0,0x0,0x7f,0x66,0x46,0x16,0x1e,0x16,0x6,0x6,0x6,0xf,0x0,0x0,0x0,0x0,
		0x0,0x0,0x3c,0x66,0x43,0x3,0x3,0x7b,0x63,0x63,0x66,0x5c,0x0,0x0,0x0,0x0,
		0x0,0x0,0x63,0x63,0x63,0x63,0x7f,0x63,0x63,0x63,0x63,0x63,0x0,0x0,0x0,0x0,
		0x0,0x0,0x3c,0x18,0x18,0x18,0x18,0x18,0x18,0x18,0x18,0x3c,0x0,0x0,0x0,0x0,
		0x0,0x0,0x78,0x30,0x30,0x30,0x30,0x30,0x33,0x33,0x33,0x1e,0x0,0x0,0x0,0x0,
		0x0,0x0,0x67,0x66,0x66,0x36,0x1e,0x1e,0x36,0x66,0x66,0x67,0x0,0x0,0x0,0x0,
		0x0,0x0,0xf,0x6,0x6,0x6,0x6,0x6,0x6,0x46,0x66,0x7f,0x0,0x0,0x0,0x0,
		0x0,0x0,0xc3,0xe7,0xff,0xff,0xdb,0xc3,0xc3,0xc3,0xc3,0xc3,0x0,0x0,0x0,0x0,
		0x0,0x0,0x63,0x67,0x6f,0x7f,0x7b,0x73,0x63,0x63,0x63,0x63,0x0,0x0,0x0,0x0,
		0x0,0x0,0x3e,0x63,0x63,0x63,0x63,0x63,0x63,0x63,0x63,0x3e,0x0,0x0,0x0,0x0,
		0x0,0x0,0x3f,0x66,0x66,0x66,0x3e,0x6,0x6,0x6,0x6,0xf,0x0,0x0,0x0,0x0,
		0x0,0x0,0x3e,0x63,0x63,0x63,0x63,0x63,0x63,0x6b,0x7b,0x3e,0x30,0x70,0x0,0x0,
		0x0,0x0,0x3f,0x66,0x66,0x66,0x3e,0x36,0x66,0x66,0x66,0x67,0x0,0x0,0x0,0x0,
		0x0,0x0,0x3e,0x63,0x63,0x6,0x1c,0x30,0x60,0x63,0x63,0x3e,0x0,0x0,0x0,0x0,
		0x0,0x0,0xff,0xdb,0x99,0x18,0x18,0x18,0x18,0x18,0x18,0x3c,0x0,0x0,0x0,0x0,
		0x0,0x0,0x63,0x63,0x63,0x63,0x63,0x63,0x63,0x63,0x63,0x3e,0x0,0x0,0x0,0x0,
		0x0,0x0,0xc3,0xc3,0xc3,0xc3,0xc3,0xc3,0xc3,0x66,0x3c,0x18,0x0,0x0,0x0,0x0,
		0x0,0x0,0xc3,0xc3,0xc3,0xc3,0xc3,0xdb,0xdb,0xff,0x66,0x66,0x0,0x0,0x0,0x0,
		0x0,0x0,0xc3,0xc3,0x66,0x3c,0x18,0x18,0x3c,0x66,0xc3,0xc3,0x0,0x0,0x0,0x0,
		0x0,0x0,0xc3,0xc3,0xc3,0x66,0x3c,0x18,0x18,0x18,0x18,0x3c,0x0,0x0,0x0,0x0,
		0x0,0x0,0xff,0xc3,0x61,0x30,0x18,0xc,0x6,0x83,0xc3,0xff,0x0,0x0,0x0,0x0,
		0x0,0x0,0x3c,0xc,0xc,0xc,0xc,0xc,0xc,0xc,0xc,0x3c,0x0,0x0,0x0,0x0,
		0x0,0x0,0x0,0x1,0x3,0x7,0xe,0x1c,0x38,0x70,0x60,0x40,0x0,0x0,0x0,0x0,
		0x0,0x0,0x3c,0x30,0x30,0x30,0x30,0x30,0x30,0x30,0x30,0x3c,0x0,0x0,0x0,0x0,
		0x8,0x1c,0x36,0x63,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,
		0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0xff,0x0,0x0,
		0xc,0xc,0x18,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,
		0x0,0x0,0x0,0x0,0x0,0x1e,0x30,0x3e,0x33,0x33,0x33,0x6e,0x0,0x0,0x0,0x0,
		0x0,0x0,0x7,0x6,0x6,0x1e,0x36,0x66,0x66,0x66,0x66,0x3e,0x0,0x0,0x0,0x0,
		0x0,0x0,0x0,0x0,0x0,0x3e,0x63,0x3,0x3,0x3,0x63,0x3e,0x0,0x0,0x0,0x0,
		0x0,0x0,0x38,0x30,0x30,0x3c,0x36,0x33,0x33,0x33,0x33,0x6e,0x0,0x0,0x0,0x0,
		0x0,0x0,0x0,0x0,0x0,0x3e,0x63,0x7f,0x3,0x3,0x63,0x3e,0x0,0x0,0x0,0x0,
		0x0,0x0,0x1c,0x36,0x26,0x6,0xf,0x6,0x6,0x6,0x6,0xf,0x0,0x0,0x0,0x0,
		0x0,0x0,0x0,0x0,0x0,0x6e,0x33,0x33,0x33,0x33,0x33,0x3e,0x30,0x33,0x1e,0x0,
		0x0,0x0,0x7,0x6,0x6,0x36,0x6e,0x66,0x66,0x66,0x66,0x67,0x0,0x0,0x0,0x0,
		0x0,0x0,0x18,0x18,0x0,0x1c,0x18,0x18,0x18,0x18,0x18,0x3c,0x0,0x0,0x0,0x0,
		0x0,0x0,0x60,0x60,0x0,0x70,0x60,0x60,0x60,0x60,0x60,0x60,0x66,0x66,0x3c,0x0,
		0x0,0x0,0x7,0x6,0x6,0x66,0x36,0x1e,0x1e,0x36,0x66,0x67,0x0,0x0,0x0,0x0,
		0x0,0x0,0x1c,0x18,0x18,0x18,0x18,0x18,0x18,0x18,0x18,0x3c,0x0,0x0,0x0,0x0,
		0x0,0x0,0x0,0x0,0x0,0x67,0xff,0xdb,0xdb,0xdb,0xdb,0xdb,0x0,0x0,0x0,0x0,
		0x0,0x0,0x0,0x0,0x0,0x3b,0x66,0x66,0x66,0x66,0x66,0x66,0x0,0x0,0x0,0x0,
		0x0,0x0,0x0,0x0,0x0,0x3e,0x63,0x63,0x63,0x63,0x63,0x3e,0x0,0x0,0x0,0x0,
		0x0,0x0,0x0,0x0,0x0,0x3b,0x66,0x66,0x66,0x66,0x66,0x3e,0x6,0x6,0xf,0x0,
		0x0,0x0,0x0,0x0,0x0,0x6e,0x33,0x33,0x33,0x33,0x33,0x3e,0x30,0x30,0x78,0x0,
		0x0,0x0,0x0,0x0,0x0,0x3b,0x6e,0x66,0x6,0x6,0x6,0xf,0x0,0x0,0x0,0x0,
		0x0,0x0,0x0,0x0,0x0,0x3e,0x63,0x6,0x1c,0x30,0x63,0x3e,0x0,0x0,0x0,0x0,
		0x0,0x0,0x8,0xc,0xc,0x3f,0xc,0xc,0xc,0xc,0x6c,0x38,0x0,0x0,0x0,0x0,
		0x0,0x0,0x0,0x0,0x0,0x33,0x33,0x33,0x33,0x33,0x33,0x6e,0x0,0x0,0x0,0x0,
		0x0,0x0,0x0,0x0,0x0,0xc3,0xc3,0xc3,0xc3,0x66,0x3c,0x18,0x0,0x0,0x0,0x0,
		0x0,0x0,0x0,0x0,0x0,0xc3,0xc3,0xc3,0xdb,0xdb,0xff,0x66,0x0,0x0,0x0,0x0,
		0x0,0x0,0x0,0x0,0x0,0xc3,0x66,0x3c,0x18,0x3c,0x66,0xc3,0x0,0x0,0x0,0x0,
		0x0,0x0,0x0,0x0,0x0,0x63,0x63,0x63,0x63,0x63,0x63,0x7e,0x60,0x30,0x1f,0x0,
		0x0,0x0,0x0,0x0,0x0,0x7f,0x33,0x18,0xc,0x6,0x63,0x7f,0x0,0x0,0x0,0x0,
		0x0,0x0,0x70,0x18,0x18,0x18,0xe,0x18,0x18,0x18,0x18,0x70,0x0,0x0,0x0,0x0,
		0x0,0x0,0x18,0x18,0x18,0x18,0x0,0x18,0x18,0x18,0x18,0x18,0x0,0x0,0x0,0x0,
		0x0,0x0,0xe,0x18,0x18,0x18,0x70,0x18,0x18,0x18,0x18,0xe,0x0,0x0,0x0,0x0,
		0x0,0x0,0x6e,0x3b,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,
		0x0,0x0,0x0,0x0,0x8,0x1c,0x36,0x63,0x63,0x63,0x7f,0x0,0x0,0x0,0x0,0x0,
		0x0,0x0,0x3c,0x66,0x43,0x3,0x3,0x3,0x43,0x66,0x3c,0x30,0x60,0x3e,0x0,0x0,
		0x0,0x0,0x33,0x0,0x0,0x33,0x33,0x33,0x33,0x33,0x33,0x6e,0x0,0x0,0x0,0x0,
		0x0,0x30,0x18,0xc,0x0,0x3e,0x63,0x7f,0x3,0x3,0x63,0x3e,0x0,0x0,0x0,0x0,
		0x0,0x8,0x1c,0x36,0x0,0x1e,0x30,0x3e,0x33,0x33,0x33,0x6e,0x0,0x0,0x0,0x0,
		0x0,0x0,0x33,0x0,0x0,0x1e,0x30,0x3e,0x33,0x33,0x33,0x6e,0x0,0x0,0x0,0x0,
		0x0,0x6,0xc,0x18,0x0,0x1e,0x30,0x3e,0x33,0x33,0x33,0x6e,0x0,0x0,0x0,0x0,
		0x0,0x1c,0x36,0x1c,0x0,0x1e,0x30,0x3e,0x33,0x33,0x33,0x6e,0x0,0x0,0x0,0x0,
		0x0,0x0,0x0,0x0,0x3c,0x66,0x6,0x6,0x66,0x3c,0x30,0x60,0x3c,0x0,0x0,0x0,
		0x0,0x8,0x1c,0x36,0x0,0x3e,0x63,0x7f,0x3,0x3,0x63,0x3e,0x0,0x0,0x0,0x0,
		0x0,0x0,0x63,0x0,0x0,0x3e,0x63,0x7f,0x3,0x3,0x63,0x3e,0x0,0x0,0x0,0x0,
		0x0,0x6,0xc,0x18,0x0,0x3e,0x63,0x7f,0x3,0x3,0x63,0x3e,0x0,0x0,0x0,0x0,
		0x0,0x0,0x66,0x0,0x0,0x1c,0x18,0x18,0x18,0x18,0x18,0x3c,0x0,0x0,0x0,0x0,
		0x0,0x18,0x3c,0x66,0x0,0x1c,0x18,0x18,0x18,0x18,0x18,0x3c,0x0,0x0,0x0,0x0,
		0x0,0x6,0xc,0x18,0x0,0x1c,0x18,0x18,0x18,0x18,0x18,0x3c,0x0,0x0,0x0,0x0,
		0x0,0x63,0x0,0x8,0x1c,0x36,0x63,0x63,0x7f,0x63,0x63,0x63,0x0,0x0,0x0,0x0,
		0x1c,0x36,0x1c,0x0,0x1c,0x36,0x63,0x63,0x7f,0x63,0x63,0x63,0x0,0x0,0x0,0x0,
		0x18,0xc,0x6,0x0,0x7f,0x66,0x6,0x3e,0x6,0x6,0x66,0x7f,0x0,0x0,0x0,0x0,
		0x0,0x0,0x0,0x0,0x0,0x76,0xdc,0xd8,0x7e,0x1b,0x3b,0xee,0x0,0x0,0x0,0x0,
		0x0,0x0,0x7c,0x36,0x33,0x33,0x7f,0x33,0x33,0x33,0x33,0x73,0x0,0x0,0x0,0x0,
		0x0,0x8,0x1c,0x36,0x0,0x3e,0x63,0x63,0x63,0x63,0x63,0x3e,0x0,0x0,0x0,0x0,
		0x0,0x0,0x63,0x0,0x0,0x3e,0x63,0x63,0x63,0x63,0x63,0x3e,0x0,0x0,0x0,0x0,
		0x0,0x6,0xc,0x18,0x0,0x3e,0x63,0x63,0x63,0x63,0x63,0x3e,0x0,0x0,0x0,0x0,
		0x0,0xc,0x1e,0x33,0x0,0x33,0x33,0x33,0x33,0x33,0x33,0x6e,0x0,0x0,0x0,0x0,
		0x0,0x6,0xc,0x18,0x0,0x33,0x33,0x33,0x33,0x33,0x33,0x6e,0x0,0x0,0x0,0x0,
		0x0,0x0,0x63,0x0,0x0,0x63,0x63,0x63,0x63,0x63,0x63,0x7e,0x60,0x30,0x1e,0x0,
		0x0,0x63,0x0,0x3e,0x63,0x63,0x63,0x63,0x63,0x63,0x63,0x3e,0x0,0x0,0x0,0x0,
		0x0,0x63,0x0,0x63,0x63,0x63,0x63,0x63,0x63,0x63,0x63,0x3e,0x0,0x0,0x0,0x0,
		0x0,0x18,0x18,0x7e,0xc3,0x3,0x3,0x3,0xc3,0x7e,0x18,0x18,0x0,0x0,0x0,0x0,
		0x0,0x1c,0x36,0x26,0x6,0xf,0x6,0x6,0x6,0x6,0x67,0x3f,0x0,0x0,0x0,0x0,
		0x0,0x0,0xc3,0x66,0x3c,0x18,0xff,0x18,0xff,0x18,0x18,0x18,0x0,0x0,0x0,0x0,
		0x0,0x3f,0x66,0x66,0x3e,0x46,0x66,0xf6,0x66,0x66,0x66,0xcf,0x0,0x0,0x0,0x0,
		0x0,0x70,0xd8,0x18,0x18,0x18,0x7e,0x18,0x18,0x18,0x18,0x18,0x1b,0xe,0x0,0x0,
		0x0,0x18,0xc,0x6,0x0,0x1e,0x30,0x3e,0x33,0x33,0x33,0x6e,0x0,0x0,0x0,0x0,
		0x0,0x30,0x18,0xc,0x0,0x1c,0x18,0x18,0x18,0x18,0x18,0x3c,0x0,0x0,0x0,0x0,
		0x0,0x18,0xc,0x6,0x0,0x3e,0x63,0x63,0x63,0x63,0x63,0x3e,0x0,0x0,0x0,0x0,
		0x0,0x18,0xc,0x6,0x0,0x33,0x33,0x33,0x33,0x33,0x33,0x6e,0x0,0x0,0x0,0x0,
		0x0,0x0,0x6e,0x3b,0x0,0x3b,0x66,0x66,0x66,0x66,0x66,0x66,0x0,0x0,0x0,0x0,
		0x6e,0x3b,0x0,0x63,0x67,0x6f,0x7f,0x7b,0x73,0x63,0x63,0x63,0x0,0x0,0x0,0x0,
		0x0,0x3c,0x36,0x36,0x7c,0x0,0x7e,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,
		0x0,0x1c,0x36,0x36,0x1c,0x0,0x3e,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,
		0x0,0x0,0xc,0xc,0x0,0xc,0xc,0x6,0x3,0x63,0x63,0x3e,0x0,0x0,0x0,0x0,
		0x0,0x0,0x0,0x0,0x0,0x0,0x7f,0x3,0x3,0x3,0x3,0x0,0x0,0x0,0x0,0x0,
		0x0,0x0,0x0,0x0,0x0,0x0,0x7f,0x60,0x60,0x60,0x60,0x0,0x0,0x0,0x0,0x0,
		0x0,0x3,0x3,0x43,0x63,0x33,0x18,0xc,0x6,0x73,0xd9,0x60,0x30,0xf8,0x0,0x0,
		0x0,0x3,0x3,0x43,0x63,0x33,0x18,0xc,0x66,0x73,0x69,0x7c,0x60,0x60,0x0,0x0,
		0x0,0x0,0x18,0x18,0x0,0x18,0x18,0x18,0x3c,0x3c,0x3c,0x18,0x0,0x0,0x0,0x0,
		0x0,0x0,0x0,0x0,0x0,0x6c,0x36,0x1b,0x36,0x6c,0x0,0x0,0x0,0x0,0x0,0x0,
		0x0,0x0,0x0,0x0,0x0,0x1b,0x36,0x6c,0x36,0x1b,0x0,0x0,0x0,0x0,0x0,0x0,
		0x188,0x22,0x188,0x22,0x188,0x22,0x188,0x22,0x188,0x22,0x188,0x22,0x188,0x22,0x188,0x22,
		0x1aa,0x55,0x1aa,0x55,0x1aa,0x55,0x1aa,0x55,0x1aa,0x55,0x1aa,0x55,0x1aa,0x55,0x1aa,0x55,
		0x1bb,0x1ee,0x1bb,0x1ee,0x1bb,0x1ee,0x1bb,0x1ee,0x1bb,0x1ee,0x1bb,0x1ee,0x1bb,0x1ee,0x1bb,0x1ee,
		0x18,0x18,0x18,0x18,0x18,0x18,0x18,0x18,0x18,0x18,0x18,0x18,0x18,0x18,0x18,0x18,
		0x18,0x18,0x18,0x18,0x18,0x18,0x18,0x1f,0x18,0x18,0x18,0x18,0x18,0x18,0x18,0x18,
		0x18,0x18,0x18,0x18,0x18,0x1f,0x18,0x1f,0x18,0x18,0x18,0x18,0x18,0x18,0x18,0x18,
		0x6c,0x6c,0x6c,0x6c,0x6c,0x6c,0x6c,0x6f,0x6c,0x6c,0x6c,0x6c,0x6c,0x6c,0x6c,0x6c,
		0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x7f,0x6c,0x6c,0x6c,0x6c,0x6c,0x6c,0x6c,0x6c,
		0x0,0x0,0x0,0x0,0x0,0x1f,0x18,0x1f,0x18,0x18,0x18,0x18,0x18,0x18,0x18,0x18,
		0x6c,0x6c,0x6c,0x6c,0x6c,0x6f,0x60,0x6f,0x6c,0x6c,0x6c,0x6c,0x6c,0x6c,0x6c,0x6c,
		0x6c,0x6c,0x6c,0x6c,0x6c,0x6c,0x6c,0x6c,0x6c,0x6c,0x6c,0x6c,0x6c,0x6c,0x6c,0x6c,
		0x0,0x0,0x0,0x0,0x0,0x7f,0x60,0x6f,0x6c,0x6c,0x6c,0x6c,0x6c,0x6c,0x6c,0x6c,
		0x6c,0x6c,0x6c,0x6c,0x6c,0x6f,0x60,0x7f,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,
		0x6c,0x6c,0x6c,0x6c,0x6c,0x6c,0x6c,0x7f,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,
		0x18,0x18,0x18,0x18,0x18,0x1f,0x18,0x1f,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,
		0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x1f,0x18,0x18,0x18,0x18,0x18,0x18,0x18,0x18,
		0x18,0x18,0x18,0x18,0x18,0x18,0x18,0x1f8,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,
		0x18,0x18,0x18,0x18,0x18,0x18,0x18,0x1ff,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,
		0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x1ff,0x18,0x18,0x18,0x18,0x18,0x18,0x18,0x18,
		0x18,0x18,0x18,0x18,0x18,0x18,0x18,0x1f8,0x18,0x18,0x18,0x18,0x18,0x18,0x18,0x18,
		0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x1ff,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,
		0x18,0x18,0x18,0x18,0x18,0x18,0x18,0x1ff,0x18,0x18,0x18,0x18,0x18,0x18,0x18,0x18,
		0x18,0x18,0x18,0x18,0x18,0x1f8,0x18,0x1f8,0x18,0x18,0x18,0x18,0x18,0x18,0x18,0x18,
		0x6c,0x6c,0x6c,0x6c,0x6c,0x6c,0x6c,0x1ec,0x6c,0x6c,0x6c,0x6c,0x6c,0x6c,0x6c,0x6c,
		0x6c,0x6c,0x6c,0x6c,0x6c,0x1ec,0xc,0x1fc,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,
		0x0,0x0,0x0,0x0,0x0,0x1fc,0xc,0x1ec,0x6c,0x6c,0x6c,0x6c,0x6c,0x6c,0x6c,0x6c,
		0x6c,0x6c,0x6c,0x6c,0x6c,0x1ef,0x0,0x1ff,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,
		0x0,0x0,0x0,0x0,0x0,0x1ff,0x0,0x1ef,0x6c,0x6c,0x6c,0x6c,0x6c,0x6c,0x6c,0x6c,
		0x6c,0x6c,0x6c,0x6c,0x6c,0x1ec,0xc,0x1ec,0x6c,0x6c,0x6c,0x6c,0x6c,0x6c,0x6c,0x6c,
		0x0,0x0,0x0,0x0,0x0,0x1ff,0x0,0x1ff,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,
		0x6c,0x6c,0x6c,0x6c,0x6c,0x1ef,0x0,0x1ef,0x6c,0x6c,0x6c,0x6c,0x6c,0x6c,0x6c,0x6c,
		0x18,0x18,0x18,0x18,0x18,0x1ff,0x0,0x1ff,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,
		0x6c,0x6c,0x6c,0x6c,0x6c,0x6c,0x6c,0x1ff,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,
		0x0,0x0,0x0,0x0,0x0,0x1ff,0x0,0x1ff,0x18,0x18,0x18,0x18,0x18,0x18,0x18,0x18,
		0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x1ff,0x6c,0x6c,0x6c,0x6c,0x6c,0x6c,0x6c,0x6c,
		0x6c,0x6c,0x6c,0x6c,0x6c,0x6c,0x6c,0x1fc,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,
		0x18,0x18,0x18,0x18,0x18,0x1f8,0x18,0x1f8,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,
		0x0,0x0,0x0,0x0,0x0,0x1f8,0x18,0x1f8,0x18,0x18,0x18,0x18,0x18,0x18,0x18,0x18,
		0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x1fc,0x6c,0x6c,0x6c,0x6c,0x6c,0x6c,0x6c,0x6c,
		0x6c,0x6c,0x6c,0x6c,0x6c,0x6c,0x6c,0x1ff,0x6c,0x6c,0x6c,0x6c,0x6c,0x6c,0x6c,0x6c,
		0x18,0x18,0x18,0x18,0x18,0x1ff,0x18,0x1ff,0x18,0x18,0x18,0x18,0x18,0x18,0x18,0x18,
		0x18,0x18,0x18,0x18,0x18,0x18,0x18,0x1f,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,
		0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x1f8,0x18,0x18,0x18,0x18,0x18,0x18,0x18,0x18,
		0x1ff,0x1ff,0x1ff,0x1ff,0x1ff,0x1ff,0x1ff,0x1ff,0x1ff,0x1ff,0x1ff,0x1ff,0x1ff,0x1ff,0x1ff,0x1ff,
		0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x1ff,0x1ff,0x1ff,0x1ff,0x1ff,0x1ff,0x1ff,0x1ff,0x1ff,
		0xf,0xf,0xf,0xf,0xf,0xf,0xf,0xf,0xf,0xf,0xf,0xf,0xf,0xf,0xf,0xf,
		0x1f0,0x1f0,0x1f0,0x1f0,0x1f0,0x1f0,0x1f0,0x1f0,0x1f0,0x1f0,0x1f0,0x1f0,0x1f0,0x1f0,0x1f0,0x1f0,
		0x1ff,0x1ff,0x1ff,0x1ff,0x1ff,0x1ff,0x1ff,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,
		0x0,0x0,0x0,0x0,0x0,0x6e,0x3b,0x1b,0x1b,0x1b,0x3b,0x6e,0x0,0x0,0x0,0x0,
		0x0,0x0,0x1e,0x33,0x33,0x33,0x1b,0x33,0x63,0x63,0x63,0x33,0x0,0x0,0x0,0x0,
		0x0,0x0,0x7f,0x63,0x63,0x3,0x3,0x3,0x3,0x3,0x3,0x3,0x0,0x0,0x0,0x0,
		0x0,0x0,0x0,0x0,0x7f,0x36,0x36,0x36,0x36,0x36,0x36,0x36,0x0,0x0,0x0,0x0,
		0x0,0x0,0x0,0x7f,0x63,0x6,0xc,0x18,0xc,0x6,0x63,0x7f,0x0,0x0,0x0,0x0,
		0x0,0x0,0x0,0x0,0x0,0x7e,0x1b,0x1b,0x1b,0x1b,0x1b,0xe,0x0,0x0,0x0,0x0,
		0x0,0x0,0x0,0x0,0x66,0x66,0x66,0x66,0x66,0x3e,0x6,0x6,0x3,0x0,0x0,0x0,
		0x0,0x0,0x0,0x0,0x6e,0x3b,0x18,0x18,0x18,0x18,0x18,0x18,0x0,0x0,0x0,0x0,
		0x0,0x0,0x0,0x7e,0x18,0x3c,0x66,0x66,0x66,0x3c,0x18,0x7e,0x0,0x0,0x0,0x0,
		0x0,0x0,0x0,0x1c,0x36,0x63,0x63,0x7f,0x63,0x63,0x36,0x1c,0x0,0x0,0x0,0x0,
		0x0,0x0,0x1c,0x36,0x63,0x63,0x63,0x36,0x36,0x36,0x36,0x77,0x0,0x0,0x0,0x0,
		0x0,0x0,0x78,0xc,0x18,0x30,0x7c,0x66,0x66,0x66,0x66,0x3c,0x0,0x0,0x0,0x0,
		0x0,0x0,0x0,0x0,0x0,0x7e,0xdb,0xdb,0xdb,0x7e,0x0,0x0,0x0,0x0,0x0,0x0,
		0x0,0x0,0x0,0xc0,0x60,0x7e,0xdb,0xdb,0xcf,0x7e,0x6,0x3,0x0,0x0,0x0,0x0,
		0x0,0x0,0x38,0xc,0x6,0x6,0x3e,0x6,0x6,0x6,0xc,0x38,0x0,0x0,0x0,0x0,
		0x0,0x0,0x0,0x3e,0x63,0x63,0x63,0x63,0x63,0x63,0x63,0x63,0x0,0x0,0x0,0x0,
		0x0,0x0,0x0,0x0,0x7f,0x0,0x0,0x7f,0x0,0x0,0x7f,0x0,0x0,0x0,0x0,0x0,
		0x0,0x0,0x0,0x0,0x18,0x18,0x7e,0x18,0x18,0x0,0x0,0xff,0x0,0x0,0x0,0x0,
		0x0,0x0,0x0,0xc,0x18,0x30,0x60,0x30,0x18,0xc,0x0,0x7e,0x0,0x0,0x0,0x0,
		0x0,0x0,0x0,0x30,0x18,0xc,0x6,0xc,0x18,0x30,0x0,0x7e,0x0,0x0,0x0,0x0,
		0x0,0x0,0x70,0xd8,0xd8,0x18,0x18,0x18,0x18,0x18,0x18,0x18,0x18,0x18,0x18,0x18,
		0x18,0x18,0x18,0x18,0x18,0x18,0x18,0x18,0x1b,0x1b,0x1b,0xe,0x0,0x0,0x0,0x0,
		0x0,0x0,0x0,0x0,0x18,0x18,0x0,0x7e,0x0,0x18,0x18,0x0,0x0,0x0,0x0,0x0,
		0x0,0x0,0x0,0x0,0x0,0x6e,0x3b,0x0,0x6e,0x3b,0x0,0x0,0x0,0x0,0x0,0x0,
		0x0,0x1c,0x36,0x36,0x1c,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,
		0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x18,0x18,0x0,0x0,0x0,0x0,0x0,0x0,0x0,
		0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x18,0x0,0x0,0x0,0x0,0x0,0x0,0x0,
		0x0,0xf0,0x30,0x30,0x30,0x30,0x30,0x37,0x36,0x36,0x3c,0x38,0x0,0x0,0x0,0x0,
		0x0,0x1b,0x36,0x36,0x36,0x36,0x36,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,
		0x0,0xe,0x1b,0xc,0x6,0x13,0x1f,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,
		0x0,0x0,0x0,0x0,0x3e,0x3e,0x3e,0x3e,0x3e,0x3e,0x3e,0x0,0x0,0x0,0x0,0x0,
		0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,
		};

	const uint16_t *get_fixed_9x16_font_glyph( uint8_t ch )
		{
		return _fixed_9x16_font_bits + (((size_t)ch) * 16);
		}
	
#endif//CTLE_IMPLEMENTATION
	}

inline ctle::bitmap_font_flags operator| ( const ctle::bitmap_font_flags &a , const ctle::bitmap_font_flags &b )
	{
	return (ctle::bitmap_font_flags) ((int)a | (int)b);
	}